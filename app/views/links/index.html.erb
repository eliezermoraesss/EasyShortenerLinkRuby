<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-8">Encurtador de Links</h1>

  <%= form_with(model: @link, local: true, class: "mb-8") do |f| %>
    <% if @link.errors.any? %>
      <div class="mb-4 p-4 bg-red-100 rounded">
        <h2 class="text-red-700">Erros ao encurtar link:</h2>
        <ul>
          <% @link.errors.full_messages.each do |msg| %>
            <li class="text-red-600"><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="flex gap-4">
      <%= f.text_field :original_url, 
          placeholder: "Cole seu link aqui", 
          class: "flex-1 p-2 border rounded" %>
      <%= f.submit "Encurtar", 
          class: "px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600" %>
    </div>
  <% end %>

  <div class="space-y-4">
    <% @links.each do |link| %>
      <div class="p-4 border rounded">
        <div class="mb-2">
          <span class="font-bold">Link original:</span>
          <%= link.original_url %>
        </div>
        <div>
          <span class="font-bold">Link encurtado:</span>
          <%= link_to short_url(link.short_url), short_url(link.short_url) %>
        </div>
      </div>
    <% end %>
  </div>
</div>