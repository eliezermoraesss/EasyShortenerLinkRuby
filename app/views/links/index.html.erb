<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h1 class="h4 mb-0">Encurtador de Links</h1>
        </div>
        
        <div class="card-body">
          <%= form_with(model: @link, local: true, class: "mb-4") do |f| %>
            <% if @link.errors.any? %>
              <div class="alert alert-danger">
                <h2 class="h6">Erros ao encurtar link:</h2>
                <ul class="mb-0">
                  <% @link.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                  <% end %>
                </ul>
              </div>
            <% end %>

            <div class="input-group">
              <%= f.text_field :original_url, 
                  placeholder: "Cole seu link aqui", 
                  class: "form-control" %>
              <%= f.submit "Encurtar", 
                  class: "btn btn-primary" %>
            </div>
          <% end %>

          <% if @links.any? %>
            <h2 class="h5 mb-3">Links Encurtados</h2>
            
            <div class="list-group">
              <% @links.each do |link| %>
                <div class="list-group-item">
                  <div class="mb-2">
                    <small class="text-muted">Link original:</small>
                    <div class="text-break"><%= link.original_url %></div>
                  </div>
                  <div>
                    <small class="text-muted">Link encurtado:</small>
                    <div>
                      <%= link_to short_url(link.short_url), 
                          short_url(link.short_url),
                          class: "text-primary" %>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>